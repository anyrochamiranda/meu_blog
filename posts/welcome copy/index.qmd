---
title: "Regressão Linear"
author: "Anielly Miranda"
date: "2025-11-20"
categories: [code,Regressão Linear]
jupyter: python3
---
Explorando a Regressão Linear!  
A relação entre variáveis com Python.

Nesta atividade eu criei um código em **Python** que realiza uma **regressão linear simples** a partir de dois arquivos de texto (`x.txt` e `y.txt`) contendo dados numéricos.  
O objetivo foi calcular a reta que melhor se ajusta aos pontos e exibir o resultado em um **gráfico interativo** com o Plotly.

Antes de rodar o código, foi preciso instalar as bibliotecas que fazem os cálculos e geram o gráfico:

numpy → para operações matemáticas e manipulação de matrizes

pandas → para organizar os dados em tabelas

plotly → para criar o gráfico interativo
```{python}
import numpy as np
import pandas as pd
import plotly.express as px


# Ler os dados dos arquivos
with open('x.txt', 'r') as fx:
    valores_x = [float(line.strip()) for line in fx if line.strip()]

with open('y.txt', 'r') as fy:
    valores_y = [float(line.strip()) for line in fy if line.strip()]

# Converter para arrays
X = np.array(valores_x)
y = np.array(valores_y)

# Fórmula matricial: b = (X^T X)^(-1) X^T y
X_matrix = np.column_stack((np.ones(len(X)), X))
beta = np.linalg.inv(X_matrix.T @ X_matrix) @ X_matrix.T @ y
intercepto, coeficiente = beta[0], beta[1]

# Calcular R²
y_pred = intercepto + coeficiente * X
ss_res = np.sum((y - y_pred) ** 2)
ss_tot = np.sum((y - np.mean(y)) ** 2)
r2 = 1 - (ss_res / ss_tot)

print(f"Coeficientes: intercepto = {intercepto}, coeficiente = {coeficiente}")
print(f"R² = {r2}")

# Criar DataFrame
df = pd.DataFrame({"x": valores_x, "y": valores_y})

# Criar gráfico com Plotly
fig = px.scatter(df, x="x", y="y", title="Regressão Linear")
fig.add_scatter(x=df["x"], y=y_pred, mode="lines", name="Reta Estimada")

# Mostrar gráfico
fig.show()

```

Os valores de x e y foram lidos de dois arquivos de texto simples.
Cada linha de x.txt e y.txt contém um número, e o Python converte essas linhas em listas de valores numéricos.

3. Cálculo da Regressão Linear

Essa equação encontra os coeficientes da reta:

o intercepto, que é o ponto onde a reta cruza o eixo y

o coeficiente angular, que indica a inclinação da reta

Também foi calculado o R² (coeficiente de determinação), que mostra o quanto a reta explica a variação dos dados.

4. Visualização com o Plotly

Com os dados organizados em um DataFrame do Pandas, criei um gráfico de dispersão e adicionei a reta de regressão.
O resultado é um gráfico interativo, onde é possível visualizar claramente a tendência entre as variáveis.
5. O que o código faz automaticamente

Lê os dados de x.txt e y.txt

Calcula a reta da regressão linear pela fórmula matricial

Exibe os coeficientes e o valor de R²

Cria um gráfico interativo com os pontos e a linha estimada

